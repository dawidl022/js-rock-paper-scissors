<body></body>
<script>
  function computerPlay() {
    let randNumber = Math.random() * 3;
    if (randNumber < 1) {
      return "rock";
    } else if (randNumber < 2) {
      return "paper";
    } else {
      return "scissors";
    }
  }

  function capitalise(text) {
    let firstLetter = text.charAt(0).toUpperCase();
    let restOfWord = text.slice(1);
    return firstLetter + restOfWord;
  }

  function gameEndMessage(winner, loser) {
    return `${capitalise(winner)} beats ${capitalise(loser)}`;
  }

  function tieMessage() {
    return "It's a tie!";
  }

  function winMessage(winner, loser) {
    return `You win! ${gameEndMessage(winner, loser)}`;
  }

  function lossMessage(winner, loser) {
    return `You lose! ${gameEndMessage(winner, loser)}`;
  }

  function playRound(playerSelection, computerSelection) {
    playerSelection = playerSelection.toLowerCase()
    if (playerSelection == "rock") {
      switch (computerSelection) {
        case "rock":
          return "It's a tie!";
        case "paper":
          return lossMessage(computerSelection, playerSelection);
        case "scissors":
          return winMessage(playerSelection, computerSelection);
      }
    } else if (playerSelection == "paper") {
      switch (computerSelection) {
        case "paper":
          return "It's a tie!";
        case "scissors":
          return lossMessage(computerSelection, playerSelection);
        case "rock":
          return winMessage(playerSelection, computerSelection);
    }} else if (playerSelection == "scissors"){
      switch (computerSelection) {
        case "scissors":
          return "It's a tie!";
        case "rock":
          return lossMessage(computerSelection, playerSelection);
        case "paper":
          return winMessage(playerSelection, computerSelection);
    }} else {
      return "Invalid Input"
    }}
    
  function game() {
    let result = "";
    let userScore = 0;
    let cpuScore =  0;
    for (i = 0; i < 5; i++) {
      result = playRound(prompt("Your choice"), computerPlay())
      if (result.includes("win")) {
        userScore++
      } else if (result.includes("lose")) {
        cpuScore++
      } else if (result == "Invalid Input") {
        i--
      }
      console.log(result)
    }
    if (userScore > cpuScore) {
      console.log("Player wins")
    } else if (cpuScore > userScore) {
      console.log("Computer wins")
    } else {
      console.log("Tie")
    }
  }
</script>